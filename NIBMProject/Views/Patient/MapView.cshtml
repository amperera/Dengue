@model List<NIBMProject.Models.Patient>

@{
    ViewBag.Title = "MapView";
    Layout = "~/Views/Shared/_BootstrapLayout.basic.cshtml";
}
<style type="text/css">
       
        #map-canvas img {
             max-width: none;
        }
        #map-canvas label { 
            width: auto; display:inline; 
        } 
    </style>
<h2>MapView</h2>
<div id="map-canvas" style="width: 998px; height: 600px"></div>

<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">

     $(document).ready(function () {
         //latitude longer tude denawa ethakota ethanin map eka patan ganne
        var centerlatlng = new google.maps.LatLng(6.9540096, 79.9185432);

        var options = {
            center: centerlatlng,
            zoom: 14,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };

        var map = new google.maps.Map(document.getElementById
                      ("map-canvas"), options);



       @foreach (var item in Model)
        {
           <text> 
        var latlng = new google.maps.LatLng('@(item.Lat)', '@(item.Long)');

        var marker = new google.maps.Marker({
            map: map,
            position: latlng,
            title: 'Reported @(item.DateStarted.ToShortDateString())'
            });


        </text>
      }
    });


</script>